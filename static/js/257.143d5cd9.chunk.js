"use strict";(self.webpackChunktest_sn=self.webpackChunktest_sn||[]).push([[257],{9257:function(e,s,t){t.r(s),t.d(s,{default:function(){return F}});var r=t(1413),i=t(5671),o=t(3144),n=t(136),a=t(5716),u=t(2791),c=t(364),l="Profile_contentWrapper__tBV5e",d={profileHeader:"ProfileHeader_profileHeader__Da-SI",picture:"ProfileHeader_picture__UUIez",info:"ProfileHeader_info__4zWPn",name:"ProfileHeader_name__Nm8Dz",mainPhoto:"ProfileHeader_mainPhoto__0iIWd"},p=t(5739),h=t(885),f=t(184),m=function(e){var s=(0,u.useState)(!1),t=(0,h.Z)(s,2),r=t[0],i=t[1],o=(0,u.useState)(e.status),n=(0,h.Z)(o,2),a=n[0],c=n[1];(0,u.useEffect)((function(){c(e.status)}),[e.status]);return(0,f.jsx)("div",{className:d.profileStatus,children:r?(0,f.jsx)("div",{children:(0,f.jsx)("input",{onBlur:function(){i(!1),e.updateStatus(a)},onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,value:a})}):(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Status"}),(0,f.jsx)("p",{onDoubleClick:function(){i(!0)},children:e.status||"-----"})]})})},j=t(4353),x=function(e){var s=e.profile;return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:d.name,children:(0,f.jsx)("h1",{children:s.fullName})}),(0,f.jsxs)("div",{children:["Looking for a job: ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,f.jsx)("div",{children:s.lookingForAJobDescription}),(0,f.jsxs)("div",{children:["About me: ",s.aboutMe]}),(0,f.jsxs)("div",{children:["Contacts: ",Object.keys(s.contacts).map((function(e){return(0,f.jsx)(P,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},P=function(e){var s=e.contactTitle,t=e.contactValue;return(0,f.jsxs)("div",{children:[(0,f.jsx)("b",{children:s}),": ",t]})},v=function(e){var s=e.profile,t=e.status,r=e.updateStatus,i=e.isOwner,o=e.savePhoto;if(!s)return(0,f.jsx)(p.Z,{});return(0,f.jsxs)("div",{className:d.profileHeader,children:[(0,f.jsxs)("div",{className:d.picture,children:[(0,f.jsx)("img",{alt:"",src:s.photos.large||j,className:d.mainPhoto}),i&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}})})]}),(0,f.jsxs)("div",{className:d.info,children:[(0,f.jsx)(x,{profile:s}),(0,f.jsx)(m,{status:t,updateStatus:r})]})]})},g=t(6070),_={myPosts:"MyPosts_myPosts__RD1fK"},S="Post_item__HtTsd",b=function(e){return(0,f.jsxs)("div",{className:S,children:[(0,f.jsx)("img",{alt:"",src:"https://img.scoop.it/cKAEfvNSTJwCa79cmbVddoXXXL4j3HpexhjNOf_P3YmryPKwJ94QGRtDb3Sbc6KY"}),(0,f.jsx)("p",{children:e.message}),(0,f.jsxs)("p",{children:["Likes: ",e.likes]})]})},k=t(6139),N=t(704),w=t(77),y=t(6704),D=(0,w.D)(10),Z=function(e){return(0,f.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,f.jsx)(k.Z,{component:y.gx,name:"newPostText",validate:[w.C,D],placeholder:"What`s new?"}),(0,f.jsx)("button",{children:"Add post"})]})};Z=(0,N.Z)({form:"ProfileAddNewPostForm"})(Z);var C=u.memo((function(e){var s=e.PostsData.map((function(e){return(0,f.jsx)(b,{id:e.id,userid:e.userid,likes:e.likes,message:e.msg})}));return(0,f.jsxs)("div",{className:_.myPosts,children:[(0,f.jsx)("h2",{children:"My posts"}),(0,f.jsx)(Z,{onSubmit:function(s){e.addPost(s.newPostText)}}),(0,f.jsx)("div",{className:_.posts,children:s})]})})),H={addPost:g.Pi},I=(0,c.$j)((function(e){return{newPostText:e.profilePage.newPostText,PostsData:e.profilePage.PostsData}}),H)(C),T=function(e){return(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)(v,{profile:e.profile,isOwner:e.isOwner,status:e.status,savePhoto:e.savePhoto,updateStatus:e.updateStatus}),(0,f.jsx)(I,{})]})},A=t(1045),O=t(7781),U=function(e){(0,n.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){e.match.params.userId!=this.props.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(T,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhoto,updateStatus:this.props.updateStatus}))}}]),t}(u.Component),z={getUserProfile:g.d$,getStatus:g.GP,updateStatus:g.OG,savePhoto:g.Tw},F=(0,O.qC)((0,c.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),z),A.EN)(U)}}]);
//# sourceMappingURL=257.143d5cd9.chunk.js.map
"use strict";(self.webpackChunktest_sn=self.webpackChunktest_sn||[]).push([[152],{6339:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var r=s(2791),n=s(8687),o=s(6871),i=s(6070),u="Profile_contentWrapper__tlmjO",a={profileHeader:"ProfileInfo_profileHeader__w-EwC",picture:"ProfileInfo_picture__eAtm3",info:"ProfileInfo_info__2Ue3O",name:"ProfileInfo_name__NGNZM",mainPhoto:"ProfileInfo_mainPhoto__WruGo"},c=s(354),l=s(885),f=s(184),d=function(t){var e=(0,r.useState)(!1),s=(0,l.Z)(e,2),n=s[0],o=s[1],i=(0,r.useState)(t.status),u=(0,l.Z)(i,2),c=u[0],d=u[1];(0,r.useEffect)((function(){d(t.status)}),[t.status]);return(0,f.jsx)("div",{className:a.profileStatus,children:n?(0,f.jsx)("div",{children:(0,f.jsx)("input",{onBlur:function(){o(!1),t.updateStatusTC(c)},onChange:function(t){d(t.currentTarget.value)},autoFocus:!0,value:c})}):(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Status"}),(0,f.jsx)("p",{onDoubleClick:function(){o(!0)},children:t.status||"-----"})]})})},h=s(4353),m=function(t){var e=t.profile;return(0,f.jsx)("div",{children:(0,f.jsx)("div",{className:a.name,children:(0,f.jsx)("h1",{children:e.fullName})})})},p=function(t){var e=t.profile,s=t.status,r=t.updateStatusTC;t.isOwner,t.savePhotoTC;return e?(0,f.jsxs)("div",{className:a.profileHeader,children:[(0,f.jsx)("div",{className:a.picture,children:(0,f.jsx)("img",{alt:"",src:e.photos.large||h,className:a.mainPhoto})}),(0,f.jsxs)("div",{className:a.info,children:[(0,f.jsx)(m,{profile:e}),(0,f.jsx)(d,{status:s,updateStatusTC:r})]})]}):(0,f.jsx)(c.Z,{})},x=s(6139),j=s(704),v=s(77),P=s(8813),_={myPosts:"MyPosts_myPosts__RD1fK"},C="Post_item__UKfxu",g=function(t){return(0,f.jsxs)("div",{className:C,children:[(0,f.jsx)("img",{alt:"",src:"https://img.scoop.it/cKAEfvNSTJwCa79cmbVddoXXXL4j3HpexhjNOf_P3YmryPKwJ94QGRtDb3Sbc6KY"}),(0,f.jsx)("p",{children:t.message})]})},T=(0,v.D)(10),S=function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)(x.Z,{component:P.gx,name:"newPostText",validate:[v.C,T],placeholder:"What`s new?"}),(0,f.jsx)("button",{children:"Add post"})]})};S=(0,j.Z)({form:"ProfileAddNewPostForm"})(S);var Z=r.memo((function(t){var e=t.PostsData.map((function(t){return(0,f.jsx)(g,{id:t.id,userid:t.userid,likes:t.likes,message:t.msg})}));return(0,f.jsxs)("div",{className:_.myPosts,children:[(0,f.jsx)("h2",{children:"My posts"}),(0,f.jsx)(S,{onSubmit:function(e){t.addPostAC(e.newPostText)}}),(0,f.jsx)("div",{className:_.posts,children:e})]})})),w=(0,n.$j)((function(t){return{newPostText:t.profilePage.newPostText,PostsData:t.profilePage.PostsData}}),{addPostAC:i.Pi})(Z),N=function(t){return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(p,{profile:t.profile,isOwner:t.isOwner,status:t.status,savePhotoTC:t.savePhotoTC,updateStatusTC:t.updateStatusTC}),t.isOwner&&(0,f.jsx)(w,{})]})},I={getUserProfileTC:i.d$,getStatusTC:i.GP,updateStatusTC:i.OG,savePhotoTC:i.Tw},b=(0,n.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),I)((function(t){var e=(0,o.UO)(),s=(0,o.s0)(),n=function(){var r=e.userId?e.userId:t.authorizedUserId;r?(t.getUserProfileTC(r),t.getStatusTC(r)):s("../login")};return(0,r.useEffect)((function(){n()}),[]),(0,r.useEffect)((function(){n()}),[e.userId,t.isAuth]),(0,f.jsx)(N,{isOwner:!e.userId,profile:t.profile,status:t.status,savePhotoTC:t.savePhotoTC,updateStatusTC:t.updateStatusTC})}))},8813:function(t,e,s){s.d(e,{Gr:function(){return h},II:function(){return d},gx:function(){return f}});var r=s(1413),n=s(5987),o=(s(2791),s(7344)),i=s(6139),u=s(184),a=["input","meta","child"],c=["input","meta","child"],l=function(t){t.input;var e=t.meta,s=e.touched,r=e.error,n=t.children,i=s&&r;return(0,u.jsxs)("div",{className:o.Z.formControl+" "+(i?o.Z.error:""),children:[n,i&&(0,u.jsx)("span",{children:r})]})},f=function(t){var e=t.input,s=(t.meta,t.child,(0,n.Z)(t,a));return(0,u.jsx)(l,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("textarea",(0,r.Z)((0,r.Z)({},e),s))}))},d=function(t){var e=t.input,s=(t.meta,t.child,(0,n.Z)(t,c));return(0,u.jsx)(l,(0,r.Z)((0,r.Z)({},t),{},{children:(0,u.jsx)("input",(0,r.Z)((0,r.Z)({},e),s))}))},h=function(t,e,s,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return(0,u.jsxs)("div",{children:[(0,u.jsx)(i.Z,{component:r,name:e,validate:s,type:n,placeholder:t})," ",o]})}},77:function(t,e,s){s.d(e,{C:function(){return r},D:function(){return n}});var r=function(t){if(!t)return"Field is required"},n=function(t){return function(e){if(e&&e.length>t)return"Max lenght is ".concat(t," symbols")}}},7344:function(t,e){e.Z={formControl:"FormsControls_formControl__OioOu",error:"FormsControls_error__fRhA6",formSummaryError:"FormsControls_formSummaryError__7CWu8"}},4353:function(t,e,s){t.exports=s.p+"static/media/user.0e5c1ecbd94c0e71aba6.png"}}]);
//# sourceMappingURL=152.949188cd.chunk.js.map
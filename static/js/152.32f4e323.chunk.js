"use strict";(self.webpackChunktest_sn=self.webpackChunktest_sn||[]).push([[152],{6339:function(t,e,s){s.r(e),s.d(e,{default:function(){return A}});var n=s(2791),r=s(8687),o=s(6871),i=s(6070),a="Profile_contentWrapper__tlmjO",u={profileHeader:"ProfileInfo_profileHeader__w-EwC",picture:"ProfileInfo_picture__eAtm3",info:"ProfileInfo_info__2Ue3O",name:"ProfileInfo_name__NGNZM",mainPhoto:"ProfileInfo_mainPhoto__WruGo"},c=s(354),l=s(885),d=s(184),f=function(t){var e=(0,n.useState)(!1),s=(0,l.Z)(e,2),r=s[0],o=s[1],i=(0,n.useState)(t.status),a=(0,l.Z)(i,2),c=a[0],f=a[1];(0,n.useEffect)((function(){f(t.status)}),[t.status]);return(0,d.jsx)("div",{className:u.profileStatus,children:r?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onBlur:function(){o(!1),t.updateStatusTC(c)},onChange:function(t){f(t.currentTarget.value)},autoFocus:!0,value:c})}):(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:"Status"}),(0,d.jsx)("p",{onDoubleClick:function(){o(!0)},children:t.status||"-----"})]})})},h=s(4353),m=function(t){var e=t.profile;return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:u.name,children:(0,d.jsx)("h1",{children:e.fullName})}),(0,d.jsxs)("div",{children:["Looking for a job: ",e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,d.jsx)("div",{children:e.lookingForAJobDescription}),(0,d.jsxs)("div",{children:["About me: ",e.aboutMe]}),(0,d.jsxs)("div",{children:["Contacts: ",Object.keys(e.contacts).map((function(t){return(0,d.jsx)(p,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},p=function(t){var e=t.contactTitle,s=t.contactValue;return(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:e}),": ",s]})},x=function(t){var e=t.profile,s=t.status,n=t.updateStatusTC;t.isOwner,t.savePhotoTC;return e?(0,d.jsxs)("div",{className:u.profileHeader,children:[(0,d.jsx)("div",{className:u.picture,children:(0,d.jsx)("img",{alt:"",src:e.photos.large||h,className:u.mainPhoto})}),(0,d.jsxs)("div",{className:u.info,children:[(0,d.jsx)(m,{profile:e}),(0,d.jsx)(f,{status:s,updateStatusTC:n})]})]}):(0,d.jsx)(c.Z,{})},j=s(6139),v=s(704),P=s(77),C=s(8813),_={myPosts:"MyPosts_myPosts__RD1fK"},g="Post_item__UKfxu",T=function(t){return(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("img",{alt:"",src:"https://img.scoop.it/cKAEfvNSTJwCa79cmbVddoXXXL4j3HpexhjNOf_P3YmryPKwJ94QGRtDb3Sbc6KY"}),(0,d.jsx)("p",{children:t.message}),(0,d.jsxs)("p",{children:["Likes: ",t.likes]})]})},b=(0,P.D)(10),S=function(t){return(0,d.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,d.jsx)(j.Z,{component:C.gx,name:"newPostText",validate:[P.C,b],placeholder:"What`s new?"}),(0,d.jsx)("button",{children:"Add post"})]})};S=(0,v.Z)({form:"ProfileAddNewPostForm"})(S);var Z=n.memo((function(t){var e=t.PostsData.map((function(t){return(0,d.jsx)(T,{id:t.id,userid:t.userid,likes:t.likes,message:t.msg})}));return(0,d.jsxs)("div",{className:_.myPosts,children:[(0,d.jsx)("h2",{children:"My posts"}),(0,d.jsx)(S,{onSubmit:function(e){t.addPostAC(e.newPostText)}}),(0,d.jsx)("div",{className:_.posts,children:e})]})})),w=(0,r.$j)((function(t){return{newPostText:t.profilePage.newPostText,PostsData:t.profilePage.PostsData}}),{addPostAC:i.Pi})(Z),N=function(t){return(0,d.jsxs)("div",{className:a,children:[(0,d.jsx)(x,{profile:t.profile,isOwner:t.isOwner,status:t.status,savePhotoTC:t.savePhotoTC,updateStatusTC:t.updateStatusTC}),t.isOwner&&(0,d.jsx)(w,{})]})},k={getUserProfileTC:i.d$,getStatusTC:i.GP,updateStatusTC:i.OG,savePhotoTC:i.Tw},A=(0,r.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),k)((function(t){var e=(0,o.UO)(),s=(0,o.s0)(),r=function(){var n=e.userId?e.userId:t.authorizedUserId;n?(t.getUserProfileTC(n),t.getStatusTC(n)):s("../login")};return(0,n.useEffect)((function(){r()}),[]),(0,n.useEffect)((function(){r()}),[e.userId,t.isAuth]),(0,d.jsx)(N,{isOwner:!e.userId,profile:t.profile,status:t.status,savePhotoTC:t.savePhotoTC,updateStatusTC:t.updateStatusTC})}))},8813:function(t,e,s){s.d(e,{Gr:function(){return h},II:function(){return f},gx:function(){return d}});var n=s(1413),r=s(5987),o=(s(2791),s(7344)),i=s(6139),a=s(184),u=["input","meta","child"],c=["input","meta","child"],l=function(t){t.input;var e=t.meta,s=e.touched,n=e.error,r=t.children,i=s&&n;return(0,a.jsxs)("div",{className:o.Z.formControl+" "+(i?o.Z.error:""),children:[r,i&&(0,a.jsx)("span",{children:n})]})},d=function(t){var e=t.input,s=(t.meta,t.child,(0,r.Z)(t,u));return(0,a.jsx)(l,(0,n.Z)((0,n.Z)({},t),{},{children:(0,a.jsx)("textarea",(0,n.Z)((0,n.Z)({},e),s))}))},f=function(t){var e=t.input,s=(t.meta,t.child,(0,r.Z)(t,c));return(0,a.jsx)(l,(0,n.Z)((0,n.Z)({},t),{},{children:(0,a.jsx)("input",(0,n.Z)((0,n.Z)({},e),s))}))},h=function(t,e,s,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Z,{component:n,name:e,validate:s,type:r,placeholder:t})," ",o]})}},77:function(t,e,s){s.d(e,{C:function(){return n},D:function(){return r}});var n=function(t){if(!t)return"Field is required"},r=function(t){return function(e){if(e&&e.length>t)return"Max lenght is ".concat(t," symbols")}}},7344:function(t,e){e.Z={formControl:"FormsControls_formControl__OioOu",error:"FormsControls_error__fRhA6",formSummaryError:"FormsControls_formSummaryError__7CWu8"}},4353:function(t,e,s){t.exports=s.p+"static/media/user.0e5c1ecbd94c0e71aba6.png"}}]);
//# sourceMappingURL=152.32f4e323.chunk.js.map
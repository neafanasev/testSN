"use strict";(self.webpackChunktest_sn=self.webpackChunktest_sn||[]).push([[257],{9257:function(s,t,e){e.r(t),e.d(t,{default:function(){return z}});var r=e(1413),i=e(5671),a=e(3144),n=e(136),o=e(5716),u=e(2791),l=e(364),d="Profile_contentWrapper__tBV5e",p={profileHeader:"ProfileHeader_profileHeader__Da-SI",picture:"ProfileHeader_picture__UUIez",info:"ProfileHeader_info__4zWPn",name:"ProfileHeader_name__Nm8Dz"},c=e(5739),f=e(885),h=e(184),m=function(s){var t=(0,u.useState)(!1),e=(0,f.Z)(t,2),r=e[0],i=e[1],a=(0,u.useState)(s.status),n=(0,f.Z)(a,2),o=n[0],l=n[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,h.jsx)("div",{className:p.profileStatus,children:r?(0,h.jsx)("div",{children:(0,h.jsx)("input",{onBlur:function(){i(!1),s.updateStatus(o)},onChange:function(s){l(s.currentTarget.value)},autoFocus:!0,value:o})}):(0,h.jsx)("div",{children:(0,h.jsx)("p",{onDoubleClick:function(){i(!0)},children:s.status||"-----"})})})},x=function(s){var t=s.profile,e=s.status,r=s.updateStatus;return t?(0,h.jsxs)("div",{className:p.profileHeader,children:[(0,h.jsx)("div",{className:p.picture,children:(0,h.jsx)("img",{alt:"",src:t.photos.large})}),(0,h.jsxs)("div",{className:p.info,children:[(0,h.jsx)("div",{className:p.name,children:(0,h.jsx)("h1",{children:t.fullName})}),(0,h.jsx)(m,{status:e,updateStatus:r})]})]}):(0,h.jsx)(c.Z,{})},j=e(6070),P={myPosts:"MyPosts_myPosts__RD1fK"},v="Post_item__HtTsd",_=function(s){return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("img",{alt:"",src:"https://img.scoop.it/cKAEfvNSTJwCa79cmbVddoXXXL4j3HpexhjNOf_P3YmryPKwJ94QGRtDb3Sbc6KY"}),(0,h.jsx)("p",{children:s.message}),(0,h.jsxs)("p",{children:["Likes: ",s.likes]})]})},g=e(6139),S=e(704),N=e(77),k=e(6704),Z=(0,N.D)(10),b=function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)(g.Z,{component:k.gx,name:"newPostText",validate:[N.C,Z],placeholder:"What`s new?"}),(0,h.jsx)("button",{children:"Add post"})]})};b=(0,S.Z)({form:"ProfileAddNewPostForm"})(b);var w=u.memo((function(s){var t=s.PostsData.map((function(s){return(0,h.jsx)(_,{id:s.id,userid:s.userid,likes:s.likes,message:s.msg})}));return(0,h.jsxs)("div",{className:P.myPosts,children:[(0,h.jsx)("h2",{children:"My posts"}),(0,h.jsx)(b,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,h.jsx)("div",{className:P.posts,children:t})]})})),y={addPost:j.Pi},D=(0,l.$j)((function(s){return{newPostText:s.profilePage.newPostText,PostsData:s.profilePage.PostsData}}),y)(w),H=function(s){return(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)(x,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,h.jsx)(D,{})]})},C=e(1045),T=e(7781),I=function(s){(0,n.Z)(e,s);var t=(0,o.Z)(e);function e(){return(0,i.Z)(this,e),t.apply(this,arguments)}return(0,a.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"render",value:function(){return(0,h.jsx)(H,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(u.Component),U={getUserProfile:j.d$,getStatus:j.GP,updateStatus:j.OG},z=(0,T.qC)((0,l.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),U),C.EN)(I)}}]);
//# sourceMappingURL=257.ef1ea3e5.chunk.js.map